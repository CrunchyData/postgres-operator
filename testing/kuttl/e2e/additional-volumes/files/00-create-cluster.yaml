apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: additional-vol
  label:
    created: before
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 1Gi
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: additional-vol-2
  label:
    created: before
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 1Gi
---
apiVersion: postgres-operator.crunchydata.com/v1beta1
kind: PostgresCluster
metadata:
  name: additional-vols
spec:
  postgresVersion: ${KUTTL_PG_VERSION}
  instances:
    - name: instance1
      volumes:
        additional:
          - name: extra
            containers: [database, nss-wrapper-init]
            claimName: additional-vol
          - name: ubiq
            claimName: additional-vol-2
            readOnly: true
      dataVolumeClaimSpec:
        accessModes:
        - "ReadWriteOnce"
        resources:
          requests:
            storage: 1Gi
