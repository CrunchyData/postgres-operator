<!DOCTYPE html>
<html>
  <head>
    
    <title>Crunchy Data PostgreSQL Operator Documentation</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.53" />
<title>Operator CLI :: Crunchy Data PostgreSQL Operator Documentation</title>
<link rel="shortcut icon" href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/favicon.png" type="image/x-icon" />
<link href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/css/nucleus.css" rel="stylesheet">
<link href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/theme-flex/style.css" rel="stylesheet">

<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<link href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/css/Fort-Fonts.css" rel="stylesheet">
<link href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/css/custom.css" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
<script src="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/js/jquery-2.x.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.bundle.min.js" integrity="sha384-zDnhMsjVZfS3hiP7oCBRmfjkQC4fzxVxFhBx8Hkz2aZX8gEvA/jsP3eXRCvzTofP" crossorigin="anonymous"></script>
<script src="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/js/main.js"></script>
<script src="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/js/toc.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/crunchydata.github.io\/postgres-operator\/4.0.0-rc1\/";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/operator-cli/">
    
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
  
	
  
    <a class="navbar-brand" href="https://www.crunchydata.com/"><img alt="Crunchy Data" src="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/images/logo.svg"></a>
  


  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <ul class="navbar-nav mr-auto"></ul>
  <span class="navbar-text">
      <nav class="shortcuts">
              <li class="" role="">
                  <a href="https://github.com/CrunchyData/postgres-operator"  rel="noopener">
                    <i class='fab fa-github'></i> <label>Source</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://kubernetes.io/docs/"  rel="noopener">
                    <i class='fas fa-bookmark'></i> <label>Kubernetes</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://github.com/CrunchyData/postgres-operator/blob/master/LICENSE.md"  rel="noopener">
                    <i class='fas fa-file-contract'></i> <label>License</label>
                  </a>
              </li>
      </nav>
  </span>
</nav>

<article>
  <aside>

    <ul class="menu">
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="">
        </div>
        <script type="text/javascript" src="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/js/lunr.min.js"></script>
        <script type="text/javascript" src="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/js/auto-complete.js"></script>
        <link href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/crunchydata.github.io\/postgres-operator\/4.0.0-rc1\/";
          
        </script>
        <script type="text/javascript" src="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/js/search.js"></script>
      </div>

      <hr>
      <a class="baselink" href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/">Crunchy Data PostgreSQL Operator Documentation</a>
      <hr>

      <b>Navigation</b>
    <li data-nav-id="/installation/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/installation/">Installation</a>

      </div>
    </li>
    <li data-nav-id="/configuration/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/configuration/">Configuration</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="/configuration/configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/configuration/configuration/">
            Configuration Resources
          </a>
        </div>
    </li>
      <li data-nav-id="/configuration/pgo-yaml-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/configuration/pgo-yaml-configuration/">
            PGO YAML
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/operator-cli/" class="dd-item parent active
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/operator-cli/">Operator CLI</a>

      </div>
    </li>
    <li data-nav-id="/design/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/design/">Design</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="/design/namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/design/namespace/">
            Namespace
          </a>
        </div>
    </li>
      <li data-nav-id="/design/olm/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/design/olm/">
            OLM
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/developer-setup/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/developer-setup/">Developer Setup</a>

      </div>
    </li>
    <li data-nav-id="/security/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/security/">Security</a>

      </div>
    </li>
    <li data-nav-id="/upgrade/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/upgrade/">Upgrade</a>

      </div>
    </li>
    <li data-nav-id="/contributing/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/contributing/">Contributing</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="/contributing/documentation-updates/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/contributing/documentation-updates/">
            Updating Documentation
          </a>
        </div>
    </li>
      <li data-nav-id="/contributing/issues/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/contributing/issues/">
            Submitting Issues
          </a>
        </div>
    </li>
      <li data-nav-id="/contributing/pull-requests/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/contributing/pull-requests/">
            Submitting Pull Requests
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/cli/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/">Clis</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="/cli/pgo/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo/">
            pgo
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_apply/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_apply/">
            pgo_apply
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_backup/">
            pgo_backup
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_clidoc/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_clidoc/">
            pgo_clidoc
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_create/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_create/">
            pgo_create
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_create_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_create_cluster/">
            pgo_create_cluster
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_create_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_create_pgbouncer/">
            pgo_create_pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_create_pgpool/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_create_pgpool/">
            pgo_create_pgpool
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_create_policy/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_create_policy/">
            pgo_create_policy
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_create_schedule/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_create_schedule/">
            pgo_create_schedule
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_create_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_create_user/">
            pgo_create_user
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_delete/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_delete/">
            pgo_delete
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_delete_backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_delete_backup/">
            pgo_delete_backup
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_delete_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_delete_cluster/">
            pgo_delete_cluster
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_delete_label/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_delete_label/">
            pgo_delete_label
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_delete_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_delete_pgbouncer/">
            pgo_delete_pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_delete_pgpool/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_delete_pgpool/">
            pgo_delete_pgpool
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_delete_policy/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_delete_policy/">
            pgo_delete_policy
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_delete_schedule/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_delete_schedule/">
            pgo_delete_schedule
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_delete_upgrade/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_delete_upgrade/">
            pgo_delete_upgrade
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_delete_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_delete_user/">
            pgo_delete_user
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_df/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_df/">
            pgo_df
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_failover/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_failover/">
            pgo_failover
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_label/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_label/">
            pgo_label
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_load/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_load/">
            pgo_load
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_reload/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_reload/">
            pgo_reload
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_restore/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_restore/">
            pgo_restore
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_scale/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_scale/">
            pgo_scale
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_scaledown/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_scaledown/">
            pgo_scaledown
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_show/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_show/">
            pgo_show
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_show_backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_show_backup/">
            pgo_show_backup
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_show_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_show_cluster/">
            pgo_show_cluster
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_show_config/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_show_config/">
            pgo_show_config
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_show_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_show_namespace/">
            pgo_show_namespace
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_show_policy/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_show_policy/">
            pgo_show_policy
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_show_pvc/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_show_pvc/">
            pgo_show_pvc
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_show_schedule/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_show_schedule/">
            pgo_show_schedule
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_show_upgrade/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_show_upgrade/">
            pgo_show_upgrade
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_show_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_show_user/">
            pgo_show_user
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_show_workflow/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_show_workflow/">
            pgo_show_workflow
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_status/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_status/">
            pgo_status
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_test/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_test/">
            pgo_test
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_update/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_update/">
            pgo_update
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_update_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_update_cluster/">
            pgo_update_cluster
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_upgrade/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_upgrade/">
            pgo_upgrade
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_user/">
            pgo_user
          </a>
        </div>
    </li>
      <li data-nav-id="/cli/pgo_version/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/cli/pgo_version/">
            pgo_version
          </a>
        </div>
    </li>
        </ul>
    </li>




      <hr><nav id="TableOfContents"></nav>



      <section>
      </section>
    </ul>
  </aside>
  <section class="page">

    <div class="nav-select">
      <center>Navigation :
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/installation/" >
   Installation</option>
    <option value="/configuration/" >
   Configuration</option>
    <option value="/operator-cli/"  selected>
   Operator CLI</option> 
  
    <option value="/design/" >
   Design</option>
    <option value="/developer-setup/" >
   Developer Setup</option>
    <option value="/security/" >
   Security</option>
    <option value="/upgrade/" >
   Upgrade</option>
    <option value="/contributing/" >
   Contributing</option>
    <option value="/cli/" >
   Clis</option>



        </select>
      </center>
    </div>

    
      <div id="top-bar">
        
          
          
          
        <div id="top-github-link">
          <a class="github-link" href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/contributing/" target="blank">
            <i class="fa fa-info-circle"></i>
            
          </a>
          <a class="github-link" href="https://github.com/CrunchyData/postgres-operator/edit/develop/hugo/content/Operator%20CLI/_index.md" target="blank">
            <i class="fa fa-code-fork"></i>
            
          </a>
        </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                <i class="fa fa-bars"></i>
              </a>
            </span>
            <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
            <span class="links">
            




 <a href='https://crunchydata.github.io/postgres-operator/4.0.0-rc1/'>Crunchy Data Postgres Operator</a> > Operator CLI

 


            </span>
        </div>

      </div>
    

    
    <div id="body-inner">

    <h1>Operator CLI</h1>

    

    



<p>The command line tool, pgo, is used to interact with the Postgres Operator.</p>

<p>Most users will work with the Operator using the <em>pgo</em> CLI tool.  That tool is downloaded from the GitHub Releases page for the Operator (<a href="https://github.com/crunchydata/postgres-operator/releases">https://github.com/crunchydata/postgres-operator/releases</a>).</p>

<p>The <em>pgo</em> client is provided in Mac, Windows, and Linux binary formats, download the appropriate client to your local laptop or workstation to work with a remote Operator.</p>

<h2 id="syntax">Syntax</h2>

<p>Use the following syntax to run  <code>pgo</code>  commands from your terminal window:</p>

<pre><code>pgo [command] ([TYPE] [NAME]) [flags]
</code></pre>

<p>Where <em>command</em> is a verb like:
 - show
 - get
 - create
 - delete</p>

<p>And <em>type</em> is a resource type like:
 - cluster
 - policy
 - user</p>

<p>And <em>name</em> is the name of the resource type like:
 - mycluster
 - somesqlpolicy
 - john</p>

<p>To get detailed help information and command flag descriptions on each <em>pgo</em> command, enter:</p>

<pre><code>pgo [command] -h
</code></pre>

<h2 id="operations">Operations</h2>

<p>See the various <em>pgo</em> commands implemented by issuing:</p>

<pre><code>pgo --help
</code></pre>

<h2 id="common-operations">Common Operations</h2>

<h3 id="general-operations">General Operations</h3>

<h4 id="show-namespaces">Show Namespaces</h4>

<pre><code>pgo show namespace
</code></pre>

<p>This command shows you all the available namespaces your username
has access to.  In pgo commands where you create resources such
as <em>pgo create cluster</em>, you can specify what namespace that resource
should be created in by passing the  <em>&ndash;namespace</em> command flag.</p>

<p>If you do not pass <em>&ndash;namespace</em> in on a command, the default
namespace your username is set up to use will be used.</p>

<h3 id="cluster-operations">Cluster Operations</h3>

<h4 id="create-cluster-with-a-primary-only">Create Cluster With a Primary Only</h4>

<pre><code>pgo create cluster mycluster --namespace=somenamespace
</code></pre>

<p>Create a cluster using the Crunchy Postgres + PostGIS container image:</p>

<pre><code>pgo create cluster mygiscluster --ccp-image=crunchy-postgres-gis
</code></pre>

<h4 id="create-cluster-with-a-primary-and-a-replica">Create Cluster With a Primary and a Replica</h4>

<pre><code>pgo create cluster mycluster --replica-count=1
</code></pre>

<h4 id="scale-a-cluster-with-additional-replicas">Scale a Cluster with Additional Replicas</h4>

<pre><code>pgo scale mycluster
</code></pre>

<h4 id="create-a-cluster-with-pgbackrest-configured">Create a Cluster with pgbackrest Configured</h4>

<pre><code>pgo create cluster mycluster --pgbackrest
</code></pre>

<h4 id="scaledown-a-cluster">Scaledown a Cluster</h4>

<pre><code>pgo scaledown mycluster --query
pgo scaledown mycluster --target=sometarget
</code></pre>

<h4 id="delete-a-cluster">Delete a Cluster</h4>

<pre><code>pgo delete cluster mycluster
</code></pre>

<h4 id="delete-a-cluster-and-it-s-persistent-volume-claims">Delete a Cluster and It&rsquo;s Persistent Volume Claims</h4>

<pre><code>pgo delete cluster mycluster --delete-data
</code></pre>

<h4 id="test-a-cluster">Test a Cluster</h4>

<pre><code>pgo test mycluster
</code></pre>

<h4 id="view-disk-utilization">View Disk Utilization</h4>

<pre><code>pgo df mycluster
</code></pre>

<h3 id="label-operations">Label Operations</h3>

<h4 id="apply-a-label-to-a-cluster">Apply a Label to a Cluster</h4>

<pre><code>pgo label mycluster --label=environment=prod
</code></pre>

<h4 id="appy-a-label-to-a-set-of-clusters">Appy a Label to a Set of Clusters</h4>

<pre><code>pgo label --selector=clustertypes=research --label=environment=prod
</code></pre>

<h4 id="show-clusters-by-label">Show Clusters by Label</h4>

<pre><code>pgo show cluster --selector=environment=prod
</code></pre>

<h3 id="policy-operations">Policy Operations</h3>

<h4 id="create-a-policy">Create a Policy</h4>

<pre><code>pgo create policy mypolicy --in-file=mypolicy.sql
</code></pre>

<h4 id="view-policies">View Policies</h4>

<pre><code>pgo show policy all
</code></pre>

<h4 id="apply-a-policy">Apply a Policy</h4>

<pre><code>pgo apply mypolicy --selector=environment=prod
pgo apply mypolicy --selector=name=mycluster
</code></pre>

<h3 id="operator-status">Operator Status</h3>

<h4 id="show-operator-version">Show Operator Version</h4>

<pre><code>pgo version
</code></pre>

<h4 id="show-operator-status">Show Operator Status</h4>

<pre><code>pgo status
</code></pre>

<h4 id="show-operator-configuration">Show Operator Configuration</h4>

<pre><code>pgo show config
</code></pre>

<h3 id="backup-and-restore">Backup and Restore</h3>

<h4 id="perform-a-pgbasebackup">Perform a pgbasebackup</h4>

<pre><code>pgo backup mycluster
</code></pre>

<h4 id="perform-a-pgbackrest-backup">Perform a pgbackrest backup</h4>

<pre><code>pgo backup mycluster --backup-type=pgbackrest
pgo backup mycluster --backup-type=pgbackrest --backup-opts=&quot;--type=diff&quot;
</code></pre>

<p>The last example passes in pgbackrest flags to the backup command.  See
pgbackrest.org for command flag descriptions.</p>

<h4 id="perform-a-pgdump-backup">Perform a pgdump backup</h4>

<pre><code>pgo backup mycluster --backup-type=pgdump
pgo backup mycluster --backup-type=pgdump --backup-opts=&quot;--dump-all --verbose&quot;
pgo backup mycluster --backup-type=pgdump --backup-opts=&quot;--schema=myschema&quot;
</code></pre>

<p>Note: To run pgdump_all instead of pgdump, pass &lsquo;&ndash;dump-all&rsquo; flag in &ndash;backup-opts as shown above. All &ndash;backup-opts should be space delimited.</p>

<h4 id="perform-a-pgbackrest-restore">Perform a pgbackrest restore</h4>

<pre><code>pgo restore mycluster
</code></pre>

<p>Or perform a restore based on a point in time:</p>

<pre><code>pgo restore mycluster --pitr-target=&quot;2019-01-14 00:02:14.921404+00&quot; --backup-opts=&quot;--type=time&quot;
</code></pre>

<p>You can also target specific nodes when performing a restore:</p>

<pre><code>pgo restore mycluster --node-label=failure-domain.beta.kubernetes.io/zone=us-central1-a
</code></pre>

<p>Here are some steps to test PITR:</p>

<ul>
<li>pgo create cluster mycluster &ndash;pgbackrest</li>
<li>create a table on the new cluster called <em>beforebackup</em></li>
<li>pgo backup mycluster &ndash;backup-type=pgbackrest</li>
<li>create a table on the cluster called <em>afterbackup</em></li>
<li>execute <em>select now()</em> on the database to get the time, use this timestamp minus a couple of minutes when you perform the restore</li>
<li>pgo restore mycluster &ndash;pitr-target=&ldquo;2019-01-14 00:02:14.921404+00&rdquo; &ndash;backup-opts=&ldquo;&ndash;type=time &ndash;log-level-console=info&rdquo;</li>
<li>wait for the database to be restored</li>
<li>execute <em>\d</em> in the database and you should see the database state prior to where the <em>afterbackup</em> table was created</li>
</ul>

<p>See the Design section of the Operator documentation for things to consider
before you do a restore.</p>

<h4 id="restore-from-pgbasebackup">Restore from pgbasebackup</h4>

<pre><code>pgo create cluster restoredcluster --backup-path=/somebackup/path --backup-pvc=somebackuppvc --secret-from=mycluster
</code></pre>

<h4 id="restore-from-pgdump-backup">Restore from pgdump backup</h4>

<pre><code>pgo restore mycluster --backup-type=pgdump --backup-pvc=mycluster-pgdump-pvc --pitr-target=&quot;2019-01-15 00:03:25&quot;
</code></pre>

<p>To restore the most recent pgdump at the default path, leave off a timestamp:</p>

<pre><code>pgo restore mycluster --backup-type=pgdump --backup-pvc=mycluster-pgdump-pvc
</code></pre>

<h3 id="fail-over-operations">Fail-over Operations</h3>

<h4 id="perform-a-manual-fail-over">Perform a Manual Fail-over</h4>

<pre><code>pgo failover mycluster --query
pgo failover mycluster --target=sometarget
</code></pre>

<h4 id="create-a-cluster-with-auto-fail-enabled">Create a Cluster with Auto-fail Enabled</h4>

<pre><code>pgo create cluster mycluster --autofail --replica-count=1
</code></pre>

<h3 id="add-on-operations">Add-On Operations</h3>

<h4 id="create-a-cluster-with-pgbouncer">Create a Cluster with pgbouncer</h4>

<pre><code>pgo create cluster mycluster --pgbouncer
pgo create cluster mycluster --pgbouncer --pgbouncer-user=someuser --pgbouncer-pass=somepass
</code></pre>

<h4 id="create-a-cluster-with-pgpool">Create a Cluster with pgpool</h4>

<pre><code>pgo create cluster mycluster --pgpool
</code></pre>

<h4 id="add-pgbouncer-to-a-cluster">Add pgbouncer to a Cluster</h4>

<pre><code>pgo create pgbouncer mycluster
pgo create pgbouncer mycluster --pgbouncer-user=someuser --pgbouncer-pass=somepass
</code></pre>

<p>Note, the pgbouncer configuration defaults to specifying only
a single entry for the primary database.  If you want it to
have an entry for the replica service, add the following
configuration to pgbouncer.ini:</p>

<pre><code>{{.PG_REPLICA_SERVICE_NAME}} = host={{.PG_REPLICA_SERVICE_NAME}} port=5432 auth_user={{.PG_USERNAME}} dbname=userdb
</code></pre>

<h4 id="add-pgpool-to-a-cluster">Add pgpool to a Cluster</h4>

<pre><code>pgo create pgpool mycluster
</code></pre>

<h4 id="remove-pgbouncer-from-a-cluster">Remove pgbouncer from a Cluster</h4>

<pre><code>pgo delete pgbouncer mycluster
</code></pre>

<h4 id="remove-pgpool-from-a-cluster">Remove pgpool from a Cluster</h4>

<pre><code>pgo delete pgpool mycluster
</code></pre>

<h4 id="create-a-cluster-with-pgbadger">Create a Cluster with pgbadger</h4>

<pre><code>pgo create cluster mycluster --pgbadger
</code></pre>

<h4 id="create-a-cluster-with-metrics-collection">Create a Cluster with Metrics Collection</h4>

<pre><code>pgo create cluster mycluster --metrics
</code></pre>

<p>Note: backend metric storage such as Prometheus and front end
visualization software such as Grafana are not created automatically
by the PostgreSQL Operator.  For instructions on installing Grafana and
Prometheus in your environment, see the <a href="http://crunchydata.github.io/crunchy-containers/stable/examples/metrics/metrics/">Crunchy Container Suite documentation</a>.</p>

<h3 id="scheduled-tasks">Scheduled Tasks</h3>

<h4 id="automated-full-pgbackrest-backups-every-sunday-at-1-am">Automated full pgBackRest backups every Sunday at 1 am</h4>

<pre><code>pgo create schedule mycluster --schedule=&quot;0 1 * * SUN&quot; \
    --schedule-type=pgbackrest --pgbackrest-backup-type=full
</code></pre>

<h4 id="automated-diff-pgbackrest-backups-every-monday-saturday-at-1-am">Automated diff pgBackRest backups every Monday-Saturday at 1 am</h4>

<pre><code>pgo create schedule mycluster --schedule=&quot;0 1 * * MON-SAT&quot; \
    --schedule-type=pgbackrest --pgbackrest-backup-type=diff
</code></pre>

<h4 id="automated-pgbasebackup-backups-every-day-at-1-am">Automated pgBaseBackup backups every day at 1 am</h4>

<p>In order to have a backup PVC created, users should run the <code>pgo backup</code> command
against the target cluster prior to creating this schedule.</p>

<pre><code>pgo create schedule mycluster --schedule=&quot;0 1 * * *&quot; \
    --schedule-type=pgbasebackup --pvc-name=mycluster-backup
</code></pre>

<h4 id="automated-policy-every-day-at-1-am">Automated Policy every day at 1 am</h4>

<pre><code>pgo create schedule --selector=pg-cluster=mycluster --schedule=&quot;0 1 * * *&quot; \
     --schedule-type=policy --policy=mypolicy --database=userdb \
     --secret=mycluster-testuser-secret
</code></pre>

<h3 id="complex-deployments">Complex Deployments</h3>

<h4 id="create-a-cluster-using-specific-storage">Create a Cluster using Specific Storage</h4>

<pre><code>pgo create cluster mycluster --storage-config=somestorageconfig
</code></pre>

<h4 id="create-a-cluster-using-a-preferred-node">Create a Cluster using a Preferred Node</h4>

<pre><code>pgo create cluster mycluster --node-label=speed=superfast
</code></pre>

<h4 id="create-a-replica-using-specific-storage">Create a Replica using Specific Storage</h4>

<pre><code>pgo scale mycluster --storage-config=someslowerstorage
</code></pre>

<h4 id="create-a-replica-using-a-preferred-node">Create a Replica using a Preferred Node</h4>

<pre><code>pgo scale mycluster --node-label=speed=slowerthannormal
</code></pre>

<h4 id="create-a-cluster-with-loadbalancer-servicetype">Create a Cluster with LoadBalancer ServiceType</h4>

<pre><code>pgo create cluster mycluster --service-type=LoadBalancer
</code></pre>

<h2 id="pgo-global-flags">pgo Global Flags</h2>

<p><em>pgo</em> global command flags include:</p>

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">apiserver-url</td>
<td align="left">URL of the Operator REST API service, override with CO_APISERVER_URL environment variable</td>
</tr>

<tr>
<td align="left">debug</td>
<td align="left">enable debug messages</td>
</tr>

<tr>
<td align="left">pgo-ca-cert</td>
<td align="left">The CA Certificate file path for authenticating to the PostgreSQL Operator apiserver. Override with PGO_CA_CERT environment variable</td>
</tr>

<tr>
<td align="left">pgo-client-cert</td>
<td align="left">The Client Certificate file path for authenticating to the PostgreSQL Operator apiserver.  Override with PGO_CLIENT_CERT environment variable</td>
</tr>

<tr>
<td align="left">pgo-client-key</td>
<td align="left">The Client Key file path for authenticating to the PostgreSQL Operator apiserver.  Override with PGO_CLIENT_KEY environment variable</td>
</tr>
</tbody>
</table>




    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/configuration/pgo-yaml-configuration/" title="PGO YAML"> <i class="fa fa-chevron-left"></i><label>PGO YAML</label></a>
    <a class="nav nav-next" href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/design/" title="Design" style="margin-right: 0px;"><label>Design</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  

  </div>


	<div>


  



	</div>
</footer>

<link href="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/css/featherlight.min.css" rel="stylesheet">
<script src="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/js/featherlight.min.js"></script>

<script src="https://crunchydata.github.io/postgres-operator/4.0.0-rc1/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>
